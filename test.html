<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-item {
            margin: 10px 0;
            padding: 10px;
            border-left: 4px solid #ddd;
        }
        .test-item.pass {
            border-left-color: #4CAF50;
            background-color: #f1f8e9;
        }
        .test-item.fail {
            border-left-color: #f44336;
            background-color: #ffebee;
        }
        .test-button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #1976D2;
        }
    </style>
</head>
<body>
    <h1>üå§Ô∏è Weather App Test Suite</h1>
    
    <div class="test-section">
        <h2>üì± App Access Test</h2>
        <div class="test-item" id="server-test">
            <strong>Server Status:</strong> <span id="server-status">Testing...</span>
        </div>
        <div class="test-item" id="app-load-test">
            <strong>App Loading:</strong> <span id="app-load-status">Testing...</span>
        </div>
    </div>

    <div class="test-section">
        <h2>üîß Functionality Tests</h2>
        <div class="test-item" id="search-test">
            <strong>Search Functionality:</strong> <span id="search-status">Ready to test</span>
        </div>
        <div class="test-item" id="day-selector-test">
            <strong>Day Selector:</strong> <span id="day-selector-status">Ready to test</span>
        </div>
        <div class="test-item" id="units-test">
            <strong>Unit Conversion:</strong> <span id="units-status">Ready to test</span>
        </div>
    </div>

    <div class="test-section">
        <h2>üé® UI/UX Tests</h2>
        <div class="test-item" id="responsive-test">
            <strong>Responsive Design:</strong> <span id="responsive-status">Ready to test</span>
        </div>
        <div class="test-item" id="animations-test">
            <strong>Animations:</strong> <span id="animations-status">Ready to test</span>
        </div>
    </div>

    <div class="test-section">
        <h2>üöÄ Quick Actions</h2>
        <button class="test-button" onclick="openApp()">Open Weather App</button>
        <button class="test-button" onclick="runAllTests()">Run All Tests</button>
        <button class="test-button" onclick="testAPI()">Test API Connection</button>
    </div>

    <div class="test-section">
        <h2>üìã Test Results</h2>
        <div id="test-results">
            <p>Click "Run All Tests" to see results here.</p>
        </div>
    </div>

    <script>
        function openApp() {
            window.open('http://localhost:8000', '_blank');
        }

        async function testAPI() {
            try {
                const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.405&current=temperature_2m&timezone=auto');
                if (response.ok) {
                    document.getElementById('search-status').textContent = '‚úÖ API Connection Working';
                    document.getElementById('search-test').className = 'test-item pass';
                } else {
                    throw new Error('API not responding');
                }
            } catch (error) {
                document.getElementById('search-status').textContent = '‚ùå API Connection Failed';
                document.getElementById('search-test').className = 'test-item fail';
            }
        }

        async function runAllTests() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>Running Tests...</h3>';
            
            // Test 1: Server Status
            try {
                const response = await fetch('http://localhost:8000');
                if (response.ok) {
                    document.getElementById('server-status').textContent = '‚úÖ Server Running';
                    document.getElementById('server-test').className = 'test-item pass';
                } else {
                    throw new Error('Server not responding');
                }
            } catch (error) {
                document.getElementById('server-status').textContent = '‚ùå Server Not Running';
                document.getElementById('server-test').className = 'test-item fail';
            }

            // Test 2: App Loading
            try {
                const response = await fetch('http://localhost:8000/index.html');
                if (response.ok) {
                    document.getElementById('app-load-status').textContent = '‚úÖ App Loads Successfully';
                    document.getElementById('app-load-test').className = 'test-item pass';
                } else {
                    throw new Error('App not loading');
                }
            } catch (error) {
                document.getElementById('app-load-status').textContent = '‚ùå App Loading Failed';
                document.getElementById('app-load-test').className = 'test-item fail';
            }

            // Test 3: API Connection
            await testAPI();

            // Test 4: Responsive Design
            const isMobile = window.innerWidth < 768;
            document.getElementById('responsive-status').textContent = isMobile ? '‚úÖ Mobile View' : '‚úÖ Desktop View';
            document.getElementById('responsive-test').className = 'test-item pass';

            // Test 5: Animations
            document.getElementById('animations-status').textContent = '‚úÖ CSS Animations Available';
            document.getElementById('animations-test').className = 'test-item pass';

            results.innerHTML = `
                <h3>‚úÖ Test Complete!</h3>
                <p><strong>All tests have been run. Check the status indicators above.</strong></p>
                <p><strong>Next Steps:</strong></p>
                <ul>
                    <li>Open the Weather App to test manual functionality</li>
                    <li>Try searching for different cities</li>
                    <li>Test the day selector in hourly forecast</li>
                    <li>Switch between metric and imperial units</li>
                    <li>Test on different screen sizes</li>
                </ul>
            `;
        }

        // Auto-run basic tests on page load
        window.addEventListener('load', () => {
            setTimeout(runAllTests, 1000);
        });
    </script>
</body>
</html>
